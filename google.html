<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" >

    <title>Twilio - SOCER 2022</title>
	
	<meta property="og:url"                content="" />
	<meta property="og:type"               content="website" />
	<meta property="og:title"              content="" id="ogTitle" />
	<meta property="og:description"        content="" />
	<meta property="og:image"              content="" id="ogImage" />
	
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="">
	<meta name="twitter:title" content="" id="twTitle">
	<meta name="twitter:description" content="">
	<meta name="twitter:image" content="" id="twImage">	
	
    <link rel="stylesheet" href="assets/css/custom.css" type="text/css" />
    <!--<link rel="stylesheet" href="https://use.typekit.net/rep8cjd.css">-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script language="JavaScript" type="text/javascript" src="assets/vendor/jsrsasign/jsrsasign-all-min.js"></script>
    <script src="assets/js/custom.js" type="text/javascript"></script>
	<script>
        function Base64urlencode(json){
            var string = JSON.stringify(json);
            return btoa(string);
        }

        var iat = Math.round(Date.now() / 1000);
        var exp = iat + 3600;

        var private_key = "-----BEGIN PRIVATE KEY-----MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDr+okq5pFOHweGUtx2ZpMu/pKEIR6aESVubcO2Szv/pQh2TLJwQfaaapBPH7gBVrPQuCzmqLcEG1nSXyiG+/9AxaM/bQeSXoYSGMVte1nzt56gEPQ1mvNVNEM5LOK5K/PdA/hgNixssJPW/D/m6HfNeCsRs6lsvdqy2agXsKxcSp5Oz94ChmUCTJ6JiTfD+CV1wshe0xw+pZNHPuHRiA/QUffS282jmiWhjDuz0hlom6yAiiGlgPI9WWHHxURHOJf3VwSJ39zmxQOJNFpLvFvp3inlYeMe9d2Eev4k2q5EJubCg8GWMScNaNd6ADzkSRgkptdqCVzO7ulnl53iZX7xAgMBAAECggEAA6jVUGVWTYgs/V1IQ/cf7d5OzAkYyLo0ArwQXpcDbYR+rBmmZBfxyL/sUFMlRF1hg9QcsNBe/jZPtJ57KhS7Bvh0U/skierjWLZ/oUyvaW3TN5eWYe/EOZxfioHIBlJzLAiaunXnRyGPOV9HZ7+lKU+QGMHY18czSWDCED6nfaA2/ObFM/K67tbLOvQRK1dAJn6Jqh9ULcPQo+FX/nKr8+wcoQ3xcX90AcZzHeDT88huJLHufca9JG+bTr62NYqwaDw4effTOktqh5Skr7ck55z2k4Pokpdn0KdvBekTXWSqHSp1JRdyuejPlk3v6nU15gs0eGBjVbuuX7tmLXLcAQKBgQD7ST2xTppa60ZNwKiqicAqiiWJ6zBv0V5g752deE074d2lZtX9kl+VXzkAUhOxa/fo4kN8307tfNJ7UBiVpUbczRptWfSm8u0Up/Ns6QfvWZWVr8vAHjz7VjxvfiDSXcUvenFPCX38vLn5/s2Hifl23DOBG0S1LA2q5cp2NbMLwQKBgQDwZ8iOQOk28z3hg8kYauUR5/+be7KM6uMDEISq6yfrYAnjIWeAx7RD4VFpenFJsM9GZkEjoVyxFPjROHJBlgwbqAWADNSo3cRqDYq/HbsRnCfJPJnkk76+D98XALVW9Dpgwm24RILZXqdEeTgGx8P+1ib4YC8beSWP7hXjiSv/MQKBgQC9yNYwSLZpfpJNfPmmO32IY2fwn1Go0g8e1TpMSSTD2lXFa0KpTdik/xMU++hlsq69E852zE1XLlPl0FuRAg/gCYQxHKSbRpPqauJ92g4lJprEP8553hyeksX4SuFNIIch0a8sS3X84Sjw+BGQkZN4wtyfYNHmp0v3S7A60VnVwQKBgDoRd3oU58AkJPBR+sLxHv+iQDV4PXqYSdk1pjX6sxvBiOHZ8bxDgKFczWNi9fZMxORGUrmeglsrq6YtsjtxWN9dSGbTspJPbuAHAVqEfekVBO8wuiNiJJKYFtThkOu99lPk4se9lLWYjWKWvRe2LPtjEuqvoPFL4+zOH29kdMIhAoGBAKHhuZDL8WvX0DhzDdt48wuaywo+VNIpEg/tsF1Fz+YvubC+Br5P1+STlVdSJKUE/CnVA2ewufnm3XC+THuChzmqYPBwT/qp7rNBB8fop+CrvFZPfrl/bZTV+df8//VRxTAnFFwwJqBEgruK/4c1w4VJ9GlsUAShEifYsNftSRb4-----END PRIVATE KEY-----";

        var prvKey = KEYUTIL.getKey(private_key);

        var header = {"alg":"RS256","typ":"JWT"};
        var claim = {
                        "iss": "project-owner@twilio-socer-2022.iam.gserviceaccount.com",
                        "scope": "https://www.googleapis.com/auth/spreadsheets.readonly",
                        "aud": "https://oauth2.googleapis.com/token",
                        "exp": exp,
                        "iat": iat
                    }

        var encodedHeader = Base64urlencode(header);
        var encodedClaim = Base64urlencode(claim);
        var payload = encodedHeader + '.' + encodedClaim;
        console.log(payload);
        var sJWS = KJUR.jws.JWS.sign("RS256", JSON.stringify(header), payload, prvKey);
        var sJWT = encodedHeader + '.' + encodedClaim + '.' + sJWS;

        console.log(sJWS);

        let data = {grant_type: "urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer", assertion: sJWT};

        fetch("https://oauth2.googleapis.com/token", {
            method: "POST",
            headers: {'Content-Type': 'application/json'}, 
            body: JSON.stringify(data)
        }).then(res => {
            console.log("Request complete! response:", res);
        });

    </script>
</head>
<body>
	Hello World!
	<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
	<script>
		AOS.init({
			duration: 400,
			easing: 'ease-out-sine',
			once: true
		});
	</script>
</body>
</html>